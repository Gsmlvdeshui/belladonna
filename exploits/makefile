CC = gcc
CFLAGS = -W -Wall -pedantic -O2 -I/usr/local/include -I/opt/local/include -I../../ -I./ -I./payload -mmacosx-version-min=10.12
OBJECTS = exploits.o

.PHONY: checkm8
all: checkm8 $(OBJECTS)

checkm8:
	@echo Building $(@)
	@make -C checkm8

%.o: %.c
	@echo CC -c $(<) -o $(@)
	@$(CC) $(CFLAGS) -c $(<) -o $(@)

clean:
	@make clean -C checkm8
	@rm -rf *.o